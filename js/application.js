// Generated by CoffeeScript 1.11.1
var Application,
  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

Application = (function() {
  function Application(_name1) {
    var _name, classes, i, key, klass, len, obj, ref, ref1, value;
    this._name = _name1 != null ? _name1 : 'b';
    classes = {};
    ref = this.classes();
    for (i = 0, len = ref.length; i < len; i++) {
      klass = ref[i];
      classes[klass.name] = klass;
    }
    _name = exercise + "/" + this._name;
    obj = localStorage.getItem(_name);
    if (obj) {
      ref1 = JSON.parse(obj);
      for (key in ref1) {
        value = ref1[key];
        this[key] = this.deserialize(value, classes);
      }
    }
  }

  Application.prototype.classes = function() {
    return [];
  };

  Application.prototype.deserialize = function(obj, classes) {
    var item, key, o, res, value;
    if (_.isObject(obj)) {
      if (_.isArray(obj)) {
        return (function() {
          var i, len, results;
          results = [];
          for (i = 0, len = obj.length; i < len; i++) {
            item = obj[i];
            results.push(this.deserialize(item, classes));
          }
          return results;
        }).call(this);
      }
      if (indexOf.call(_.keys(obj), '_type') >= 0) {
        if (classes[obj["_type"]] === void 0) {
          print("Please define classes : -> [" + obj["_type"] + "] in your Application");
          return;
        }
        o = _.create(classes[obj["_type"]].prototype, {});
        for (key in obj) {
          value = obj[key];
          if (key !== '_type') {
            o[key] = this.deserialize(value, classes);
          }
        }
        return o;
      } else {
        res = {};
        for (key in obj) {
          value = obj[key];
          res[key] = this.deserialize(value, classes);
        }
        return res;
      }
    }
    return obj;
  };

  Application.prototype.draw = function() {};

  Application.prototype.mark = function(obj) {
    var i, item, len, ref, results, value;
    if (obj == null) {
      obj = this;
    }
    if (_.isArray(obj)) {
      return (function() {
        var i, len, results;
        results = [];
        for (i = 0, len = obj.length; i < len; i++) {
          item = obj[i];
          results.push(this.mark(item));
        }
        return results;
      }).call(this);
    }
    if (_.isObject(obj)) {
      if (obj.constructor.name !== 'Object') {
        obj['_type'] = obj.constructor.name;
      }
      ref = _.values(obj);
      results = [];
      for (i = 0, len = ref.length; i < len; i++) {
        value = ref[i];
        if (value != null) {
          results.push(this.mark(value));
        } else {
          results.push(void 0);
        }
      }
      return results;
    }
  };

  Application.prototype.mousePressed = function(mx, my) {};

  Application.prototype.store = function() {
    var _name, obj;
    _name = exercise + "/" + this._name;
    this.mark();
    obj = JSON.stringify(this);
    localStorage.setItem(_name, obj);
    return fillTable(exercise + "/a", exercise + "/b");
  };

  Application.prototype.readText = function() {
    return $('#input').val();
  };

  Application.prototype.readInt = function() {
    return parseInt(this.readText());
  };

  Application.prototype.readFloat = function() {
    return parseFloat(this.readText());
  };

  Application.prototype.reset = function() {
    var i, key, len, ref, results;
    ref = _.keys(this);
    results = [];
    for (i = 0, len = ref.length; i < len; i++) {
      key = ref[i];
      if (key !== "_name") {
        results.push(delete this[key]);
      } else {
        results.push(void 0);
      }
    }
    return results;
  };

  return Application;

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwbGljYXRpb24uanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcYXBwbGljYXRpb24uY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLFdBQUE7RUFBQTs7QUFBTTtFQUVTLHFCQUFDLE1BQUQ7QUFDYixRQUFBO0lBRGMsSUFBQyxDQUFBLHlCQUFELFNBQU87SUFDckIsT0FBQSxHQUFVO0FBQ1Y7QUFBQSxTQUFBLHFDQUFBOztNQUFBLE9BQVEsQ0FBQSxLQUFLLENBQUMsSUFBTixDQUFSLEdBQXNCO0FBQXRCO0lBRUEsS0FBQSxHQUFRLFFBQUEsR0FBVyxHQUFYLEdBQWlCLElBQUMsQ0FBQTtJQUMxQixHQUFBLEdBQU0sWUFBWSxDQUFDLE9BQWIsQ0FBcUIsS0FBckI7SUFDTixJQUFHLEdBQUg7QUFDQztBQUFBLFdBQUEsV0FBQTs7UUFDQyxJQUFFLENBQUEsR0FBQSxDQUFGLEdBQVMsSUFBQyxDQUFBLFdBQUQsQ0FBYSxLQUFiLEVBQW1CLE9BQW5CO0FBRFYsT0FERDs7RUFOYTs7d0JBVWQsT0FBQSxHQUFVLFNBQUE7V0FBRztFQUFIOzt3QkFFVixXQUFBLEdBQWMsU0FBQyxHQUFELEVBQUssT0FBTDtBQUNiLFFBQUE7SUFBQSxJQUFHLENBQUMsQ0FBQyxRQUFGLENBQVcsR0FBWCxDQUFIO01BQ0MsSUFBRyxDQUFDLENBQUMsT0FBRixDQUFVLEdBQVYsQ0FBSDtBQUF1Qjs7QUFBUTtlQUFBLHFDQUFBOzt5QkFBQSxJQUFDLENBQUEsV0FBRCxDQUFhLElBQWIsRUFBa0IsT0FBbEI7QUFBQTs7c0JBQS9COztNQUNBLElBQUcsYUFBVyxDQUFDLENBQUMsSUFBRixDQUFPLEdBQVAsQ0FBWCxFQUFBLE9BQUEsTUFBSDtRQUNDLElBQUcsT0FBUSxDQUFBLEdBQUksQ0FBQSxPQUFBLENBQUosQ0FBUixLQUF5QixNQUE1QjtVQUNDLEtBQUEsQ0FBTSw4QkFBQSxHQUFpQyxHQUFJLENBQUEsT0FBQSxDQUFyQyxHQUFnRCx1QkFBdEQ7QUFDQSxpQkFGRDs7UUFHQSxDQUFBLEdBQUksQ0FBQyxDQUFDLE1BQUYsQ0FBUyxPQUFRLENBQUEsR0FBSSxDQUFBLE9BQUEsQ0FBSixDQUFhLENBQUMsU0FBL0IsRUFBMEMsRUFBMUM7QUFDSixhQUFBLFVBQUE7O1VBQ0MsSUFBd0MsR0FBQSxLQUFPLE9BQS9DO1lBQUEsQ0FBRSxDQUFBLEdBQUEsQ0FBRixHQUFTLElBQUMsQ0FBQSxXQUFELENBQWEsS0FBYixFQUFtQixPQUFuQixFQUFUOztBQUREO0FBRUEsZUFBTyxFQVBSO09BQUEsTUFBQTtRQVNDLEdBQUEsR0FBTTtBQUNOLGFBQUEsVUFBQTs7VUFDQyxHQUFJLENBQUEsR0FBQSxDQUFKLEdBQVcsSUFBQyxDQUFBLFdBQUQsQ0FBYSxLQUFiLEVBQW1CLE9BQW5CO0FBRFo7QUFFQSxlQUFPLElBWlI7T0FGRDs7QUFlQSxXQUFPO0VBaEJNOzt3QkFrQmQsSUFBQSxHQUFPLFNBQUEsR0FBQTs7d0JBRVAsSUFBQSxHQUFPLFNBQUMsR0FBRDtBQUVOLFFBQUE7O01BRk8sTUFBSTs7SUFFWCxJQUFHLENBQUMsQ0FBQyxPQUFGLENBQVUsR0FBVixDQUFIO0FBQXVCOztBQUFRO2FBQUEscUNBQUE7O3VCQUFBLElBQUMsQ0FBQSxJQUFELENBQU0sSUFBTjtBQUFBOztvQkFBL0I7O0lBQ0EsSUFBRyxDQUFDLENBQUMsUUFBRixDQUFXLEdBQVgsQ0FBSDtNQUNDLElBQXVDLEdBQUcsQ0FBQyxXQUFXLENBQUMsSUFBaEIsS0FBd0IsUUFBL0Q7UUFBQSxHQUFJLENBQUEsT0FBQSxDQUFKLEdBQWUsR0FBRyxDQUFDLFdBQVcsQ0FBQyxLQUEvQjs7QUFDQTtBQUFBO1dBQUEscUNBQUE7O1FBQ0MsSUFBRyxhQUFIO3VCQUFlLElBQUMsQ0FBQSxJQUFELENBQU0sS0FBTixHQUFmO1NBQUEsTUFBQTsrQkFBQTs7QUFERDtxQkFGRDs7RUFITTs7d0JBUVAsWUFBQSxHQUFlLFNBQUMsRUFBRCxFQUFJLEVBQUosR0FBQTs7d0JBRWYsS0FBQSxHQUFRLFNBQUE7QUFDUCxRQUFBO0lBQUEsS0FBQSxHQUFRLFFBQUEsR0FBVyxHQUFYLEdBQWlCLElBQUMsQ0FBQTtJQUMxQixJQUFDLENBQUEsSUFBRCxDQUFBO0lBQ0EsR0FBQSxHQUFNLElBQUksQ0FBQyxTQUFMLENBQWUsSUFBZjtJQUNOLFlBQVksQ0FBQyxPQUFiLENBQXFCLEtBQXJCLEVBQTRCLEdBQTVCO1dBQ0EsU0FBQSxDQUFVLFFBQUEsR0FBVyxJQUFyQixFQUEyQixRQUFBLEdBQVcsSUFBdEM7RUFMTzs7d0JBT1IsUUFBQSxHQUFXLFNBQUE7V0FBRyxDQUFBLENBQUUsUUFBRixDQUFXLENBQUMsR0FBWixDQUFBO0VBQUg7O3dCQUNYLE9BQUEsR0FBVSxTQUFBO1dBQUcsUUFBQSxDQUFTLElBQUMsQ0FBQSxRQUFELENBQUEsQ0FBVDtFQUFIOzt3QkFDVixTQUFBLEdBQVksU0FBQTtXQUFHLFVBQUEsQ0FBVyxJQUFDLENBQUEsUUFBRCxDQUFBLENBQVg7RUFBSDs7d0JBQ1osS0FBQSxHQUFTLFNBQUE7QUFDUixRQUFBO0FBQUE7QUFBQTtTQUFBLHFDQUFBOztNQUNDLElBQUcsR0FBQSxLQUFPLE9BQVY7cUJBQXVCLE9BQU8sSUFBRSxDQUFBLEdBQUEsR0FBaEM7T0FBQSxNQUFBOzZCQUFBOztBQUREOztFQURRIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQXBwbGljYXRpb25cblxuXHRjb25zdHJ1Y3RvciA6IChAX25hbWU9J2InKSAtPlxuXHRcdGNsYXNzZXMgPSB7fVxuXHRcdGNsYXNzZXNba2xhc3MubmFtZV0gPSBrbGFzcyBmb3Iga2xhc3MgaW4gQGNsYXNzZXMoKVxuXG5cdFx0X25hbWUgPSBleGVyY2lzZSArIFwiL1wiICsgQF9uYW1lXG5cdFx0b2JqID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0gX25hbWVcblx0XHRpZiBvYmpcblx0XHRcdGZvciBrZXksdmFsdWUgb2YgSlNPTi5wYXJzZSBvYmpcblx0XHRcdFx0QFtrZXldID0gQGRlc2VyaWFsaXplIHZhbHVlLGNsYXNzZXNcblxuXHRjbGFzc2VzIDogLT4gW11cblxuXHRkZXNlcmlhbGl6ZSA6IChvYmosY2xhc3NlcykgLT5cblx0XHRpZiBfLmlzT2JqZWN0KG9iailcblx0XHRcdGlmIF8uaXNBcnJheShvYmopIHRoZW4gcmV0dXJuIChAZGVzZXJpYWxpemUoaXRlbSxjbGFzc2VzKSBmb3IgaXRlbSBpbiBvYmopICMgYXJyYXlcblx0XHRcdGlmICdfdHlwZScgaW4gXy5rZXlzKG9iailcblx0XHRcdFx0aWYgY2xhc3Nlc1tvYmpbXCJfdHlwZVwiXV0gPT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0cHJpbnQgXCJQbGVhc2UgZGVmaW5lIGNsYXNzZXMgOiAtPiBbXCIgKyBvYmpbXCJfdHlwZVwiXSArIFwiXSBpbiB5b3VyIEFwcGxpY2F0aW9uXCJcblx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0byA9IF8uY3JlYXRlIGNsYXNzZXNbb2JqW1wiX3R5cGVcIl1dLnByb3RvdHlwZSwge31cblx0XHRcdFx0Zm9yIGtleSx2YWx1ZSBvZiBvYmpcblx0XHRcdFx0XHRvW2tleV0gPSBAZGVzZXJpYWxpemUodmFsdWUsY2xhc3NlcykgaWYga2V5ICE9ICdfdHlwZSdcblx0XHRcdFx0cmV0dXJuIG9cblx0XHRcdGVsc2UgIyBkaWN0XG5cdFx0XHRcdHJlcyA9IHt9XG5cdFx0XHRcdGZvciBrZXksdmFsdWUgb2Ygb2JqXG5cdFx0XHRcdFx0cmVzW2tleV0gPSBAZGVzZXJpYWxpemUodmFsdWUsY2xhc3Nlcylcblx0XHRcdFx0cmV0dXJuIHJlc1xuXHRcdHJldHVybiBvYmogIyBjYXRjaGVzIE51bWJlciwgU3RyaW5nLCBCb29sZWFuLCBudWxsIGV0Y1xuXG5cdGRyYXcgOiAtPlxuXG5cdG1hcmsgOiAob2JqPUApIC0+XG5cdFx0I2lmIF8uaXNOdWxsKG9iaikgdGhlbiByZXR1cm5cblx0XHRpZiBfLmlzQXJyYXkob2JqKSB0aGVuIHJldHVyblx0KEBtYXJrKGl0ZW0pIGZvciBpdGVtIGluIG9iaikgIyBhcnJheVxuXHRcdGlmIF8uaXNPYmplY3Qob2JqKVxuXHRcdFx0b2JqWydfdHlwZSddID0gb2JqLmNvbnN0cnVjdG9yLm5hbWUgaWYgb2JqLmNvbnN0cnVjdG9yLm5hbWUgIT0gJ09iamVjdCdcblx0XHRcdGZvciB2YWx1ZSBpbiBfLnZhbHVlcyBvYmogIyBhbm5hcnMga29tbWVyIG1ldG9kZXJuYSBtZWQuXG5cdFx0XHRcdGlmIHZhbHVlPyB0aGVuIEBtYXJrIHZhbHVlXG5cblx0bW91c2VQcmVzc2VkIDogKG14LG15KSAtPiAjIHByaW50IFwibW91c2VQcmVzc2VkXCIsIG14LCBteFxuXG5cdHN0b3JlIDogLT5cblx0XHRfbmFtZSA9IGV4ZXJjaXNlICsgXCIvXCIgKyBAX25hbWVcblx0XHRAbWFyaygpXG5cdFx0b2JqID0gSlNPTi5zdHJpbmdpZnkgQFxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtIF9uYW1lLCBvYmpcblx0XHRmaWxsVGFibGUgZXhlcmNpc2UgKyBcIi9hXCIsIGV4ZXJjaXNlICsgXCIvYlwiXG5cblx0cmVhZFRleHQgOiAtPiAkKCcjaW5wdXQnKS52YWwoKVxuXHRyZWFkSW50IDogLT4gcGFyc2VJbnQgQHJlYWRUZXh0KClcblx0cmVhZEZsb2F0IDogLT4gcGFyc2VGbG9hdCBAcmVhZFRleHQoKVxuXHRyZXNldCA6ICAtPlxuXHRcdGZvciBrZXkgaW4gXy5rZXlzIEBcblx0XHRcdGlmIGtleSAhPSBcIl9uYW1lXCIgdGhlbiBkZWxldGUgQFtrZXldXG4iXX0=
//# sourceURL=C:\github\p5Dojo\coffee\application.coffee