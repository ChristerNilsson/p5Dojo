{
  "version": 3,
  "file": "menu.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\menu.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "class Menu\r\n\tconstructor : (@items, @table=null, @branch=[]) ->\r\n\t\t@state = 0\r\n\t\t@chapter = ''\r\n\t\t@exercise = ''\r\n\t\t@calls = {}\r\n\trensa : -> @table.innerHTML = \"\"\r\n\tclear : -> @branch = []\r\n\r\n\ttraverse : (items=@items, level=0, br=[]) ->\r\n\t\tif false == goDeeper @branch,br then return\r\n\r\n\t\tif level == 0 # chapter\r\n\t\t\tfor key,i in _.keys items\r\n\t\t\t\tif i == @branch[level] or @branch.length == level\r\n\t\t\t\t\t@addTitle key, level, i, br.concat i\r\n\t\t\t\tchildren = items[key]\r\n\t\t\t\t@traverse children, level+1, br.concat i\r\n\r\n\t\tif level == 1 # exercise\r\n\t\t\tfor key,i in _.keys items\r\n\t\t\t\tif i == @branch[level] or @branch.length == level\r\n\t\t\t\t\t@addTitle key, level, i, br.concat i\r\n\t\t\t\tkeywords = items[key].k.split ' '\r\n\t\t\t\tkeywords.sort()\r\n\t\t\t\t@traverse keywords, level+1, br.concat i\r\n\r\n\t\tif level == 2 \r\n\t\t\t# keywords\r\n\t\t\tfor item in items \r\n\t\t\t\t@addTitle item, level, i, br\r\n\r\n\t\t\t# commands\r\n\t\t\t@calls = decorate data[@chapter][@exercise].c\r\n\t\t\tfor key of @calls\r\n\t\t\t\tif key != 'draw()'\r\n\t\t\t\t\t@addCommand key, level, i, br\r\n\r\n\thandleRow : (b) ->\r\n\t\ttr = document.createElement \"tr\"\r\n\t\taddCell tr,b,100\r\n\t\t@table.appendChild tr\r\n\r\n\taddTitle : (title,level,i,br) ->\r\n\t\tif level == 2 then b = makeButton title, BLACK,YELLOW\r\n\t\telse if @branch[level] == i then b = makeButton title, WHITE, BLACK\r\n\t\telse b = makeButton title, BLACK, WHITE\r\n\t\tb.style.width = '205px'\r\n\t\tb.style.textAlign = 'left'\r\n\t\tb.branch = br\r\n\t\tb.style.paddingLeft = 10*level + \"px\"\r\n\r\n\t\tb.onclick = => \r\n\t\t\tif level == 0 then @sel1click b.value\r\n\t\t\tif level == 1 \r\n\t\t\t\tif b.style.backgroundColor == 'rgb(255, 255, 255)'\r\n\t\t\t\t\t@sel2click \"\"\r\n\t\t\t\telse\r\n\t\t\t\t\t@sel2click b.value\t\t\t\t\t\r\n\t\t\tif level == 2 then @sel3click b.value\r\n\t\t\tif level in [0,1] then @branch = calcBranch @branch, b.branch\r\n\t\t\tupdateTables()\r\n\r\n\t\t@handleRow b\r\n\t\tb\r\n\r\n\taddCommand : (title,level,i,br) ->\r\n\t\tb = makeButton title, BLUE,YELLOW\r\n\t\tb.style.width = '205px'\r\n\t\tb.style.textAlign = 'left'\r\n\t\tb.style.paddingLeft = 10*level + \"px\"\r\n\t\tcode = @calls[title]\r\n\t\tb.onclick = -> \r\n\t\t\tif run1(code) == true\r\n\t\t\t\trun0(code)\r\n\t\t\tcompare()\r\n\t\t@handleRow b\r\n\t\tb\r\n\r\n\tsetState : (st) ->\r\n\t\t@state = st\r\n\r\n\t\tif st==2 then $('#input').show() else $('#input').hide()\r\n\t\tif st==2 then msg.show() else msg.hide()\r\n\t\tif st==2 then $(\".CodeMirror\").show() else $(\".CodeMirror\").hide()\r\n\r\n\t\tif st<=1\r\n\t\t\ttableClear()\r\n\t\t\tlinksClear()\r\n\t\t\tsetLinks()\r\n\t\t\tbg 0.5\r\n\r\n\t\tif st==1 then\t@exercise = \"\"\r\n\r\n\tsel1click : (chapter) ->\r\n\t\t@chapter = chapter\r\n\t\t@exercise = \"\"\r\n\t\t@calls = {}\r\n\t\t@setState 1\r\n\r\n\tsel2click : (exercise) ->\r\n\t\t@exercise = exercise\r\n\t\tif @exercise == \"\"\r\n\t\t\tmyCodeMirror.setValue \"\"\r\n\t\t\tbg 0.5\r\n\t\t\treturn\r\n\r\n\t\t@setState 2\r\n\r\n\t\tsrc = localStorage[@exercise + \"/d\"]\r\n\t\tif src == undefined or src == null or src == ''\r\n\t\t\tsrc = data[@chapter][@exercise].b\r\n\t\t\tlocalStorage[@exercise + \"/d\"] = src\r\n\t\t\tlocalStorage[@exercise + \"/v\"] = data[@chapter][@exercise].v\r\n\t\tmyCodeMirror.setValue src\r\n\r\n\t\tif localStorage[@exercise + \"/v\"]? and localStorage[@exercise + \"/v\"] != data[@chapter][@exercise].v\r\n\t\t\trenew.show()\r\n\t\telse\r\n\t\t\trenew.hide()\r\n\r\n\t\ttableClear()\r\n\r\n\t\tcode = @calls[\"draw()\"]\r\n\r\n\t\trun1 code\r\n\t\trun0 code \r\n\t\tmyCodeMirror.focus()\r\n\t\tcompare()\r\n\r\n\tsel3click : (keyword) ->\r\n\t\turl = buildLink keyword\r\n\t\tif url?\r\n\t\t\twin = window.open url, '_blank'\r\n\t\t\twin.focus()\r\n\t"
  ]
}